# Colorful Canvas: Anamorphic Illusion Studio

A comprehensive toolkit for creating stunning anamorphic illusions - 2D images with perspective distortion that appear 3D when viewed from specific angles.

## ğŸ¯ What are Anamorphic Illusions?

**Anamorphic illusions** are specially distorted 2D images that create the illusion of 3D depth when viewed from the correct angle or perspective. These are **not actual 3D images**, but rather mathematically distorted 2D images that exploit human depth perception to create spectacular visual effects.

## Features

- **Shadow Box Illusion**: Creates the illusion of objects floating in a glass display case when viewed from the front
- **Screen Pop Illusion**: Makes objects appear to pop out of the screen surface with perspective distortion
- **Anamorphic Billboard**: Creates dramatic perspective distortion perfect for large billboards and street art
- **AI Depth Estimation**: Uses state-of-the-art neural networks to analyze depth relationships for precise distortion

## Project Structure

The project is organized as follows:

```
/
â”œâ”€â”€ src/                       # Source code
â”‚   â”œâ”€â”€ data/                  # Data loading and processing
â”‚   â”‚   â”œâ”€â”€ data_loader.py     # Dataset loading utilities
â”‚   â”‚   â””â”€â”€ get_data.py        # GitHub data fetching
â”‚   â”œâ”€â”€ models/                # ML model definitions
â”‚   â”‚   â””â”€â”€ train_models.py    # Model training utilities
â”‚   â”œâ”€â”€ utils/                 # Utility functions
â”‚   â”œâ”€â”€ scripts/               # Helper scripts
â”‚   â”œâ”€â”€ colorful_canvas_ai.py  # Core illusion generation code
â”‚   â””â”€â”€ run_pipeline.py        # Full pipeline implementation
â”‚
â”œâ”€â”€ models/                    # Trained model files
â”‚   â”œâ”€â”€ depth_estimator.pth    # Depth estimation model
â”‚   â”œâ”€â”€ illusion_predictor.pth # Illusion effectiveness predictor
â”‚   â””â”€â”€ performance_predictor.pth # Viewing success predictor
â”‚
â”œâ”€â”€ datasets/                  # Input datasets
â”œâ”€â”€ output/                    # Output directory for results
â”œâ”€â”€ demo/                      # Interactive web demo
â”œâ”€â”€ examples/                  # Example images
â”œâ”€â”€ docs/                      # Documentation
â”‚
â”œâ”€â”€ colorful_canvas_complete.py # Consolidated implementation
â”œâ”€â”€ run.py                     # Main entry point
â””â”€â”€ requirements.txt           # Dependencies
```

## Getting Started

### Installation

1. Clone this repository
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

### Usage

#### Interactive Web Demo (Recommended)
```bash
cd demo
python -m http.server 8002
# Open http://localhost:8002 in your browser
```

#### Command Line Interface
```bash
# Generate anamorphic illusions
python colorful_canvas_complete.py --mode generate --image path/to/image.jpg --effect shadow_box --output output_dir

# Train models
python colorful_canvas_complete.py --mode train

# Run demonstration
python colorful_canvas_complete.py --mode demo
```

### Available Illusion Types

- **shadow_box**: Creates illusion of objects floating in a display case
- **screen_pop**: Makes objects appear to emerge from the screen surface  
- **anamorphic**: Creates billboard-style perspective distortion for large displays

## ğŸ‘ï¸ How It Works

### 1. ğŸ•¸ï¸ Depth Analysis
AI analyzes the input image to create a depth map showing relative distances of objects.

### 2. ğŸ“ Perspective Calculation
Mathematical transformation calculates how to distort each pixel based on object depth and intended viewing angle.

### 3. ğŸ¨ Distortion Application
The image is warped using perspective transformation - closer objects are stretched, farther objects are compressed.

### 4. ğŸ‘ï¸ Optical Illusion
When viewed from the correct angle, your brain interprets the distorted 2D image as having realistic 3D depth!

## Requirements

- Python 3.8+
- OpenCV
- NumPy  
- PIL (Pillow)
- Scikit-learn
- Optional: PyTorch (for advanced depth estimation)

See `requirements.txt` for a complete list of dependencies.

## Examples

Below are examples of the different anamorphic illusions generated by the toolkit:

### Shadow Box Illusion
Creates the illusion of objects floating in a glass display case:
- **Viewing**: Look directly from the front at eye level
- **Applications**: Museum displays, product showcases

### Screen Pop Illusion  
Makes objects appear to pop out of the screen surface:
- **Viewing**: Look at screen from a 45-degree angle
- **Applications**: Interactive displays, social media content

### Anamorphic Billboard
Creates dramatic perspective distortion for large displays:
- **Viewing**: View from 15-20 feet away at slight upward angle
- **Applications**: Outdoor advertising, street art

## Real-World Applications

- **Street Art**: 3D chalk art and pavement illusions
- **Advertising**: Eye-catching billboard campaigns that appear to pop out
- **Museums**: Interactive educational exhibits
- **Social Media**: Viral content and Instagram posts
- **Digital Signage**: Attention-grabbing retail displays

## Scientific Principle

Anamorphic illusions exploit human visual perception:
- **Perspective**: Objects appear smaller when farther away
- **Parallax**: Different viewpoints reveal depth information
- **Brain Processing**: Visual cortex interprets distorted cues as 3D depth
- **Viewing Angle**: Specific angles align the distortion with natural perspective

## License

MIT

## Acknowledgements

This project uses the following open-source libraries and models:
- Intel/DPT depth estimation model
- OpenCV for image processing
- Scikit-learn for machine learning models
- PyTorch (optional) for advanced neural networks 